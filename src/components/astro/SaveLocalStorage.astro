---

---

<script>
  const parts = window.location.pathname.split("/").filter(Boolean);
  const folderName = parts.at(-2);
  const filrName = parts.at(-1);
  const ChapterVisitedKey = `${folderName}/${filrName}`;
  const courseKey = folderName


  const achive = localStorage.getItem(courseKey ?? "");
  let achiveNum = Number(achive);
  if (Number.isNaN(achiveNum)) {
    achiveNum = 0;
  } else {
    achiveNum += 1;
  }

  window.addEventListener("scroll", () => {
    if (
      window.innerHeight + window.scrollY >=
        document.documentElement.scrollHeight &&
      localStorage.getItem(ChapterVisitedKey) !== "visited"
    ) {
      localStorage.setItem(courseKey ?? "", achiveNum.toString());
      localStorage.setItem(ChapterVisitedKey, "visited");
    }
  });
</script>
