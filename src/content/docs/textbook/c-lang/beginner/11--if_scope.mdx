---
title: if文と条件分岐の基本
description: if文と条件分岐の基本スコープについて学びます!
slug: textbook/c-lang/beginner/if_scope
---

import { Aside } from "@astrojs/starlight/components";

## 1.if

実行したい処理に条件を付けたい時は、if文を用いる。条件式が真の場合に処理を実行する。

```c
if (条件式) {
    // 条件式が真の場合に実行される処理
}
```

以下は、入力された点数が60点より大きいならば「合格」、そうでなければ「不合格」と表示するプログラムである。

```c
#include <stdio.h>
int main() {
    int score;

    printf("点数を入力してください: ");
    scanf("%d", &score);

    if (score >= 60) {
        printf("合格\n");
    }
    if (score < 60) {
        printf("不合格\n");
    }

    return 0;
}
```
<Aside type="tip">
`{}`内の処理が1行の場合は`{}`を省略することができる。  
しかし、バグの原因になるので、1文の場合でも`{}`で囲むことが推奨される。
</Aside>

フローチャートで表すと以下のようになる。

; TODO　図を挿入


; TODO 表の見た目が崩れているので修正する

| 演算子  | 数学の記号 |
|:-------:|:--------:|
| `>=`    | ≥       |
| `>`     | >       |
| `<`     | &lt;    |
| `<=`    | ≤       |
| `==`    | =       |
| `!=`    | ≠       |

<Aside type="caution">
 `==`と`=`は異なる演算子である。`==`は等価、`=`は代入を意味する。
</Aside>

## 2.else

else文を使うことで、条件式が偽の場合に実行する処理を指定できる。

```c
if (条件式) {
    // 条件式が真の場合に実行される処理
} else {
    // 条件式が偽の場合に実行される処理
}
```

1.ifで示した例の、60点以上でないときの処理をelseを使って簡単に記述できる。

```c
#include <stdio.h>
int main() {
    int score;

    printf("点数を入力してください: ");
    scanf("%d", &score);

    if (score >= 60) {
        printf("合格\n");
    } else {
        printf("不合格\n");
    }

    return 0;
}
```
; TODO　図を挿入

## 3.else if

else ifを使うことで、複数の条件を指定することができる。

```c
if (条件式1) {
    // 条件式1が真の場合に実行される処理
} else if (条件式2) {
    // 条件式1が偽で条件式2が真の場合に実行される処理
} else {
    // 条件式1,2が偽の場合に実行される処理
}
```

2.elseのコードに、入力された点数が100点ならば「満点」と出力させるコードを足す。

```c
#include <stdio.h>
int main() {
    int score;

    printf("点数を入力してください: ");
    scanf("%d", &score);

    if (score == 100) {
        printf("満点\n");
    } else if (score >= 60) {
        printf("合格\n");
    } else {
        printf("不合格\n");
    }

    return 0;
}
```
; TODO　図を挿入

## 4.or and not

複数の条件を指定する場合には、if文を複数個用いたり、以下の論理演算子を活用すると良い。

| 演算子  | 数学の記号 |
| `&&`    | ∧(かつ)  |
| `\|\|`    | ∨(または)|
| `!`     | ¬(否定)  |


```c
int x = 8;
int y = 6;

if(x > 5) {
    printf("x は 5 より大きい\n");
    if(y > 5) {
        printf("x と y は 5 より大きい\n");
    }
}

if (x < 10 && y < 10) {
    printf("x と y は 10 より小さい\n");
}
if (!(y >= 10)) {
    printf("y は 10 より大きくない\n");
}
```

## 変数のスコープ

変数は使用できる範囲に制限がある。これを変数のスコープという。  
変数のスコープは、`{}`で囲まれたブロック内でのみ使用できる。
以下のコードを例に説明する。  
変数xは一番外側のブロックで宣言されているため、どこでも使用できる。  
しかし、変数yは1つ目のif文の中で宣言されているため、そのif文の中(ブロック)でしか使用できない。

```c
int x = 8;

if(x > 5) {
    int y = 6;
    printf("x は 5 より大きい\n");
    if(y > 5) {
        printf("x と y は 5 より大きい\n");
        printf("y = %d\n", y); // 変数yがスコープ内のため使用可能
    }
}
printf("x = %d\n", x);
// printf("y = %d\n", y); // 変数yがスコープ外のためエラー
```




<Aside type="note">
厳密にはc言語のif文の条件分岐は、条件式が0以外なら真、0ならば偽として処理している。  
また、論理演算子の結果は0か1で返される。  
例1 条件式 `10 > 5`はc言語では1と評価されるため、条件式としては真となる。  
例2 条件式 `10 < 5`はc言語では0と評価されるため、条件式としては偽となる。  
例3 条件式 `10`は0以外であるため、条件式は真となる。  
これはc言語の仕様であり、他の言語とは若干異なるので注意が必要である。  
気になった人は調べてみると良いだろう。  
</Aside>





