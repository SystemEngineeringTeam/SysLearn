---
title : ビット演算
description: C言語のビット演算について解説する。
slug: textbook/c-lang/beginner/bit
---

import { Aside, Card } from "@astrojs/starlight/components";

## ビットとは

---

**ビット**（bit）はコンピュータが扱う最小単位の情報である。
ビットは`0`または`1`の値を持ち、これを組み合わせることで数値や文字を表現する。
例えば、

- `0b0001` は10進数の `1`
- `0b0010` は10進数の `2`
- `0b1010` は10進数の `10`

また、先頭に`0b`を付けることでその数が2進数であることを表している。

## ビット演算

---

ビット演算とは、数値をビット単位で操作する演算のことである。
ビット演算には、AND、OR、XOR、NOTの4つの基本的な演算がある。

### AND（論理積） `&`

AND演算は、2つのビットがともに `1` のときに `1` を返し、それ以外は `0` になる。

| A | B | A & B |
|---|---|-------|
| 0 | 0 |   0   |
| 0 | 1 |   0   |
| 1 | 0 |   0   |
| 1 | 1 |   1   |

```c
int a = 0b1100; // 12
int b = 0b1010; // 10
int result = a & b; // 0b1000 (8)
```

### OR（論理和） `|`

OR演算は、どちらかのビットが `1` であれば `1` を返し、両方 `0` の場合のみ `0` になる。

| A | B | A \| B |
|---|---|-------|
| 0 | 0 |  0    |
| 0 | 1 |  1    |
| 1 | 0 |  1    |
| 1 | 1 |  1    |

```c
int a = 0b1100; // 12
int b = 0b1010; // 10
int result = a | b; // 0b1110 (14)
```

### XOR（排他的論理和） `^`

XOR演算は、2つのビットが異なっている場合に `1` を返し、同じ場合は `0` になる。

| A | B | A ^ B |
|---|---|-------|
| 0 | 0 |  0    |
| 0 | 1 |  1    |
| 1 | 0 |  1    |
| 1 | 1 |  0    |

```c
int a = 0b1100; // 12
int b = 0b1010; // 10
int result = a ^ b; // 0b0110 (6)
```

### NOT（否定） `~`

NOT演算は、各ビットを反転させる。

| A | ~A |
|---|----|
| 0 | 1  |
| 1 | 0  |

```c
int a = 0b1100; // 12
int result = ~a; // 0b0011 (3)
```

<Card>
### 練習問題1
`int` 型の変数 `a` に `0b1101`（`13`）、`b` に `0b1011`（`11`）を代入し、それらの AND, OR, XOR 演算を行い、結果を出力してください。 

**実行結果**
```sh
a & b = 9
a | b = 15
a ^ b = 6
```
ファイル名: `05_issue1.c`
<details>
<summary>ヒント</summary>
<Aside type="tip">
`&`, `|`, `^` の演算子を使って計算し、それぞれ `printf` で出力しよう 
</Aside>
</details>

<details>
<summary>模範解答</summary>
```c title="05_issue1.c"
#include <stdio.h>

int main(void) {
    int a = 0b1101; // 13
    int b = 0b1011; // 11
    printf("a & b = %d\n", a & b); // 0b1001 (9)
    printf("a | b = %d\n", a | b); // 0b1111 (15)
    printf("a ^ b = %d\n", a ^ b); // 0b0110 (6)
    return 0;
}
```
</details>
</Card>

## シフト演算

---

シフト演算はビットの位置を左右にずらすことで数値を変化させる演算である。

### 左シフト `<<`

左シフトはビットを左に移動し、空いた部分を `0` で埋める。

```c
int a = 0b1100; // 12
int result = a << 1; // 0b11000 (24)
```

<Aside>
- `a << 1` は `a * 2` に相当する。
- `a << n` は `a * 2^n` と同じ意味になる。
</Aside>

### 右シフト `>>`

右シフトはビットを右に移動させる。

```c
int a = 0b1100; // 12
int result = a >> 1; // 0b0110 (6)
```

<Aside>
- `a >> 1` は `a / 2` に相当する。
- `a >> n` は `a / 2^n` と同じ意味になる。
</Aside>

<Card>
### 練習問題2
整数 `a` に `0b10010`（`18`）を代入し、次の操作を行った結果を出力してください。

- `a` を **左に 2 ビット** シフト
- `a` を **右に 1 ビット** シフト  

**実行結果**
```sh
a << 2 = 72
a >> 1 = 9
```
ファイル名: `05_issue2.c`
<details>
<summary>ヒント</summary>
<Aside type="tip">
- 左シフト `<<` はビットを左に移動させ、空いている右側を `0` で埋めます。  
- 右シフト `>>` はビットを右に移動させ、空いている左側を符号ビットで埋めます（符号なし整数の場合は `0`）。 
</Aside>
</details>

<details>
<summary>模範解答</summary>
```c title="05_issue2.c"
#include <stdio.h>

int main(void) {
    int a = 0b10010; // 18
    printf("a << 2 = %d\n", a << 2); // 0b1001000 (72)
    printf("a >> 1 = %d\n", a >> 1); // 0b01001 (9)
    return 0;
}
```
</details>
</Card>